# Домашнее задание к занятию "`Микросервисы: принципы`" - `Бакулев Евгений`

# Задача 1: API Gateway

![Скриншот](https://github.com/garrkiss/principles/blob/main/img/api.png)

На основе требований и таблицы я думаю выбрать Kong Gateway. Обоснование:

1. Маршрутизация запросов: Kong поддерживает гибкую маршрутизацию через конфигурацию (включая REST API и декларативные файлы), что идеально для микросервисной архитектуры.
2. Проверка аутентификации: Kong предлагает встроенные плагины для OAuth2, JWT и других методов, что упрощает интеграцию с системами аутентификации.
3. Терминация HTTPS: Поддерживается из коробки, включая автоматическое управление сертификатами через плагины (например, с Let’s Encrypt).
4. Дополнительные преимущества:
- Открытый исходный код позволяет адаптировать решение под нужды компании.
- Большое сообщество и экосистема плагинов обеспечивают гибкость и поддержку.
- Высокая производительность благодаря использованию NGINX в качестве основы.
- Интеграция с Kubernetes упрощает эксплуатацию в современной инфраструктуре.

Альтернативы вроде Amazon API Gateway или Azure API Management хороши для компаний, уже использующих AWS или Azure, но они привязаны к проприетарным экосистемам. NGINX требует больше ручной настройки, а Tyk и Traefik, хотя и перспективны, уступают Kong в зрелости экосистемы и широте возможностей.



# Брокер сообщений

![Скриншот](https://github.com/garrkiss/principles/blob/main/img/broker.png)

Анализ и выбор решения
На основе требований я предлагаю выбрать Apache Kafka. Обоснование:

Кластеризация: Kafka изначально спроектирован для распределённой работы с высокой надёжностью благодаря репликации данных.
Хранение на диске: Сообщения сохраняются на диске с настраиваемым временем хранения, что обеспечивает надёжность доставки.
Высокая скорость: Kafka демонстрирует выдающуюся производительность (миллионы сообщений в секунду) благодаря партиционированию и batch-обработке.
Форматы сообщений: Поддерживает произвольные бинарные данные, что делает его универсальным для любых приложений.
Разделение прав доступа: Поддержка ACL и SASL позволяет детально управлять доступом к топикам.
Простота эксплуатации: Хотя настройка требует опыта, Kafka имеет мощные инструменты (Kafka Connect, MirrorMaker) и широкую документацию.
Альтернативы:

RabbitMQ проще в эксплуатации, но уступает в производительности и масштабируемости для больших объёмов данных.
NATS выигрывает в скорости и простоте, но не хранит сообщения на диске по умолчанию, что нарушает одно из требований.
Pulsar близок к Kafka по возможностям, но менее распространён и сложнее в освоении.
Выбор: Apache Kafka — лучшее сочетание надёжности, скорости и гибкости для микросервисной архитектуры крупной компании.